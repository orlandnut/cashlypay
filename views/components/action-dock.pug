mixin actionDock(opts)
  - const options = opts || {};
  - const primaryHref = options.primaryHref || "/management";
  - const queueHref = options.queueHref || "/admin/reminders";
  - const shortcuts = Array.isArray(options.shortcuts) ? options.shortcuts : [];
  -
    const baseActions = [
      {
        label: "Create Invoice",
        hint: "Launch composer",
        href: primaryHref,
        tone: "primary",
      },
      {
        label: "Run Reminder Queue",
        hint: "Automation",
        tone: "danger",
        attrs: {
          "data-run-reminders": "true",
          "data-confirm": "Run the reminder queue now?",
          "data-queue-endpoint": queueHref,
        },
      },
      {
        label: "Density",
        hint: "Comfortable",
        tone: "ghost",
        attrs: {
          "data-density-toggle": "true",
          "aria-pressed": "false",
        },
        dynamicHint: true,
      },
    ];
  - const actions = shortcuts.concat(baseActions);
  nav.action-dock(aria-label="Quick actions" data-action-dock="true" data-context=options.context || 'workspace')
    .action-dock__grid
      each action, index in actions
        - if (!action || !action.label) continue;
        - const tone = action.tone || "ghost";
        - const actionAttrs = (action.attrs && typeof action.attrs === 'object') ? action.attrs : {};
        - const classes = `action-dock__button action-dock__button--${tone}` + (actionAttrs.disabled ? " is-disabled" : "");
        if action.href
          a(class=classes href=action.href target=action.target || null)
            span.action-dock__label= action.label
            if action.hint
              span.action-dock__hint= action.hint
        else
          button(class=classes type="button")&attributes(actionAttrs)
            span.action-dock__label= action.label
            if action.dynamicHint
              span.action-dock__hint(data-density-label)= action.hint
            else if action.hint
              span.action-dock__hint= action.hint
