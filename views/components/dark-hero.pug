mixin darkHero(options)
  - const opts = options || {};
  - const title = typeof opts.title === 'string' ? opts.title : "CashlyPay";
  - const subtitle = typeof opts.subtitle === 'string' ? opts.subtitle : "Modern Finance OS";
  - const actions = Array.isArray(opts.actions) ? opts.actions : [];
  - const back = typeof opts.back === 'undefined' ? { href: "/", label: "Dashboard" } : opts.back;
  - const status = typeof opts.status === 'object' ? opts.status : null;
  - const envBadge = typeof opts.envBadge === 'string' ? opts.envBadge : null;
  - const envBadgeText = envBadge || (status && status.label ? `${status.label} mode` : null);
  - const envTone = envBadgeText ? ((status && status.tone) ? status.tone : (envBadgeText.toLowerCase().includes('live') ? 'live' : 'sandbox')) : null;
  - const showBack = back !== false;
  - const backHref = showBack && back && back.href ? back.href : "/";
  - const backLabel = showBack && back && back.label ? back.label : "Dashboard";
  - const breadcrumbs = Array.isArray(opts.breadcrumbs) ? opts.breadcrumbs : [];
  - const showSearch = opts.search !== false;
  - const searchLabel = (opts.search && opts.search.label) || "Jump to workspace";
  - const searchHint = (opts.search && opts.search.hint) || "âŒ˜K";
  .dark-hero
    .dark-hero__rail
      .dark-hero__rail-left
        button.dark-hero__menu.hero__nav-trigger(type="button" aria-label="Open navigation panel" aria-controls="commandDrawer")
          span.bar
          span.bar
          span.bar
        if showBack
          a.dark-hero__back(href=backHref aria-label=`Back to ${backLabel}`)
            svg(width="16" height="16" viewBox="0 0 24 24" fill="none")
              path(d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round")
            span= backLabel
      .dark-hero__context
        if breadcrumbs && breadcrumbs.length
          nav.hero-breadcrumbs(aria-label="Breadcrumb")
            each crumb in breadcrumbs
              if crumb && crumb.href && !crumb.active
                a.hero-breadcrumbs__chip(href=crumb.href)
                  span.hero-breadcrumbs__dot
                  span.hero-breadcrumbs__text= crumb.label
              else if crumb && crumb.label
                span.hero-breadcrumbs__chip.hero-breadcrumbs__chip--active
                  span.hero-breadcrumbs__dot
                  span.hero-breadcrumbs__text= crumb.label
        if showSearch
          button.hero-search.hero-search--pill(type="button" data-command-search aria-label="Open quick search")
            span.hero-search__pill
              svg(width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true")
                path(d="M11 5a6 6 0 014.9 9.6l4.25 4.24-1.4 1.42-4.26-4.26A6 6 0 1111 5zm0 2a4 4 0 100 8 4 4 0 000-8z" fill="currentColor")
              span.hero-search__label= searchLabel
            span.hero-search__hint= searchHint
      h1.dark-hero__title #{title}
      .dark-hero__rail-right
        if status
          span.dark-hero__status(class=`dark-hero__status--${status.tone || 'neutral'}`)= status.label
        else
          button.dark-hero__profile(type="button" aria-label="Quick actions")
            svg(width="16" height="16" viewBox="0 0 24 24" fill="none")
              path(d="M12 5a1 1 0 110-2 1 1 0 010 2zm0 8a1 1 0 110-2 1 1 0 010 2zm0 8a1 1 0 110-2 1 1 0 010 2z" fill="currentColor")
    .dark-hero__brand-lockup
      .brand-chip.brand-chip--hero.dark-hero__brand-chip
        .brand-chip__grid.brand-chip__grid--hero
          .brand-chip__icon
            img(src="/images/cashly-logo.png" alt="CashlyPay mark" width="48" height="48" loading="lazy" decoding="async")
          .brand-chip__body
            span.brand-chip__eyebrow Navigate & Automate
            .brand-chip__wordmark.wordmark.wordmark--hero
              span.wordmark__main Cashly
              span.wordmark__accent Pay
            if envBadgeText
              span.brand-chip__env.brand-chip__env--hero= envBadgeText
          .brand-chip__accent
            span.brand-chip__status-bar
            span.brand-chip__pulse
    if subtitle
      p.dark-hero__subtitle #{subtitle}
    if actions && actions.length
      .dark-hero__actions
        each action in actions
          - const actionType = action.type || "primary";
          - const actionClasses = actionType === "secondary" ? "button button-secondary button-lg" : actionType === "ghost" ? "button button-ghost button-lg" : "button button-primary button-lg";
          a(class=actionClasses href=action.href)= action.label
